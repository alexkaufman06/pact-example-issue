Example issue with Pact and fetch:

```
npm run contract-test

> pact-example-issue@1.0.0 contract-test
> jest --config='jest.contract.config.ts'


 RUNS  contract-tests/hl-sor.spec.ts
[10:00:50.315] INFO (1910): 0.4.16: pact native library successfully found, and the correct version
2024-05-21T17:00:50.320072Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 1, keys = [1]
2024-05-21T17:00:50.320149Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V3 } }
2024-05-21T17:00:50.320226Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.320311Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 1, keys = [1]
2024-05-21T17:00:50.320317Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.320345Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.323201Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 1, keys = [1]
2024-05-21T17:00:50.323213Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.323286Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.323785Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.323797Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.323811Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.324286Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.324300Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.324304Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.324355Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977" path= category="path" index=0
2024-05-21T17:00:50.324398Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.324552Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.324559Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.324562Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.325831Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="application/json" path=$.Accept category="header" index=0
2024-05-21T17:00:50.325851Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.325857Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("application/json")
2024-05-21T17:00:50.325864Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.325869Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = []
2024-05-21T17:00:50.325875Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.325889Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'Accept' = ["application/json"]
2024-05-21T17:00:50.325931Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.325973Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.325978Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"Accept": ["application/json"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.326155Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="60e64fdb-0d9e-42d9-8105-c50b9ebc96a0" path=$['X-Tenant-Id'] category="header" index=0
2024-05-21T17:00:50.326174Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: trailing characters at line 1 column 6
2024-05-21T17:00:50.326178Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("60e64fdb-0d9e-42d9-8105-c50b9ebc96a0")
2024-05-21T17:00:50.326182Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.326185Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = ["Accept"]
2024-05-21T17:00:50.326189Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.326192Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'X-Tenant-Id' = ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]
2024-05-21T17:00:50.326213Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.326217Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.326220Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.326298Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="bd65946a-81f7-43c2-871e-62067d98c5b2" path=$['X-Correlation-Id'] category="header" index=0
2024-05-21T17:00:50.326309Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.326313Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("bd65946a-81f7-43c2-871e-62067d98c5b2")
2024-05-21T17:00:50.326371Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.326378Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = ["Accept", "X-Tenant-Id"]
2024-05-21T17:00:50.326389Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.326392Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'X-Correlation-Id' = ["bd65946a-81f7-43c2-871e-62067d98c5b2"]
2024-05-21T17:00:50.326608Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.326619Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.326633Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.326701Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="404" path= category="status" index=0
2024-05-21T17:00:50.326816Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.326824Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.326827Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 404, headers: None, body: Missing, matching_rules: MatchingRules { rules: {STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.326922Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="application/json; charset=utf-8" path=$['Content-Type'] category="header" index=0
2024-05-21T17:00:50.326934Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.326938Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("application/json; charset=utf-8")
2024-05-21T17:00:50.327002Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.327013Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = []
2024-05-21T17:00:50.327017Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.327021Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'Content-Type' = ["application/json; charset=utf-8"]
2024-05-21T17:00:50.327161Z TRACE ThreadId(01) pact_ffi::mock_server::handles: >>> pactffi_with_body(InteractionHandle { interaction_ref: 65537 }, Response, 0x7ff4ad83f830, 0x7ff4ad8324c0)
2024-05-21T17:00:50.327177Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 1, interaction = 1
2024-05-21T17:00:50.327190Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [1]
2024-05-21T17:00:50.327193Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 404, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Missing, matching_rules: MatchingRules { rules: {HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.327245Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Setting up the response body
2024-05-21T17:00:50.327387Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: process_json
2024-05-21T17:00:50.327403Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: >>> process_object(obj={"error": String("no rows in result set")}, matching_rules=MatchingRuleCategory { name: BODY, rules: {} }, generators=Generators { categories: {} }, path=$, type_matcher=false)
2024-05-21T17:00:50.327420Z DEBUG ThreadId(01) pact_ffi::mock_server::bodies: Path = $
2024-05-21T17:00:50.327423Z DEBUG ThreadId(01) pact_ffi::mock_server::bodies: Configuring a normal object
2024-05-21T17:00:50.327446Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: -> result = Object {"error": String("no rows in result set")}
2024-05-21T17:00:50.328049Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact - ref = 1, keys = [1]
2024-05-21T17:00:50.328070Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact before - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 404, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Present(b"{\"error\":\"no rows in result set\"}", Some(ContentType { main_type: "application", sub_type: "json", attributes: {}, suffix: None }), None), matching_rules: MatchingRules { rules: {BODY: MatchingRuleCategory { name: BODY, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.328231Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: TRANSPORT, provider_type: CORE, plugin: None, key: "http", values: {} }, CatalogueEntry { entry_type: TRANSPORT, provider_type: CORE, plugin: None, key: "https", values: {} }])
2024-05-21T17:00:50.328293Z DEBUG ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: Updated catalogue entries:
core/transport/http
core/transport/https
2024-05-21T17:00:50.328317Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "xml", values: {"content-types": "application/.*xml,text/xml"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "json", values: {"content-types": "application/.*json,application/json-rpc,application/jsonrequest"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "text", values: {"content-types": "text/plain"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "multipart-form-data", values: {"content-types": "multipart/form-data,multipart/mixed"} }, CatalogueEntry { entry_type: CONTENT_GENERATOR, provider_type: CORE, plugin: None, key: "json", values: {"content-types": "application/.*json,application/json-rpc,application/jsonrequest"} }, CatalogueEntry { entry_type: CONTENT_GENERATOR, provider_type: CORE, plugin: None, key: "binary", values: {"content-types": "application/octet-stream"} }])
2024-05-21T17:00:50.328392Z DEBUG ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: Updated catalogue entries:
core/content-generator/binary
core/content-generator/json
core/content-matcher/json
core/content-matcher/multipart-form-data
core/content-matcher/text
core/content-matcher/xml
2024-05-21T17:00:50.328414Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-regex", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-number-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-integer-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-decimal-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-date", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-time", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-datetime", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-min-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-max-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-minmax-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-includes", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-null", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-min-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-max-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-minmax-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-content-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-array-contains", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v1-equality", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-not-empty", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-semver", values: {} }])
2024-05-21T17:00:50.328632Z DEBUG ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: Updated catalogue entries:
core/matcher/v1-equality
core/matcher/v2-max-type
core/matcher/v2-min-type
core/matcher/v2-minmax-type
core/matcher/v2-regex
core/matcher/v2-type
core/matcher/v3-content-type
core/matcher/v3-date
core/matcher/v3-datetime
core/matcher/v3-decimal-type
core/matcher/v3-includes
core/matcher/v3-integer-type
core/matcher/v3-null
core/matcher/v3-number-type
core/matcher/v3-time
core/matcher/v4-array-contains
core/matcher/v4-equals-ignore-order
core/matcher/v4-max-equals-ignore-order
core/matcher/v4-min-equals-ignore-order
core/matcher/v4-minmax-equals-ignore-order
core/matcher/v4-not-empty
core/matcher/v4-semver
2024-05-21T17:00:50.329664Z DEBUG ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_mock_server::mock_server: Started mock server on 127.0.0.1:49400
2024-05-21T17:00:50.329725Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 1 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact after - ref = 1, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by non-existent ID", provider_states: [ProviderState { name: "There is no test details", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 404, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Present(b"{\"error\":\"no rows in result set\"}", Some(ContentType { main_type: "application", sub_type: "json", attributes: {}, suffix: None }), None), matching_rules: MatchingRules { rules: {BODY: MatchingRuleCategory { name: BODY, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: Non
  console.log
    My fullUrl is:  http://127.0.0.1:49400/api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977

      at http (src/utils/hlClient/index.ts:17:11)


 RUNS  contract-tests/hl-sor.spec.ts
2024-05-21T17:00:50.363850Z DEBUG ThreadId(01) pact_matching::metrics: Could not get the tokio runtime, will not send metrics - there is no reactor running, must be called from the context of a Tokio 1.x runtime
2024-05-21T17:00:50.363880Z DEBUG ThreadId(01) pact_mock_server::server_manager: Shutting down mock server with ID 0f1fbf5d-7bf4-435f-9d0e-e627bbbdfa99 - MockServerMetrics { requests: 0, requests_by_path: {} }
2024-05-21T17:00:50.363900Z DEBUG ThreadId(01) pact_mock_server::mock_server: Mock server 0f1fbf5d-7bf4-435f-9d0e-e627bbbdfa99 shutdown - MockServerMetrics { requests: 0, requests_by_path: {} }
2024-05-21T17:00:50.363933Z DEBUG tokio-runtime-worker hyper::server::shutdown: signal received, starting graceful shutdown
[10:00:50.364] TRACE (1910): pact-core@14.3.2: Ffi has already been initialised, no need to repeat it
2024-05-21T17:00:50.365320Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 2, keys = [2, 1]
2024-05-21T17:00:50.365337Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V3 } }
2024-05-21T17:00:50.365348Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.365372Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 2, keys = [2, 1]
2024-05-21T17:00:50.365376Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.365477Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
[10:00:50.365] ERROR (1910): pact@12.3.0: Test failed for the following reasons:

  Mock server failed with the following mismatches:

        0) The following request was expected but not received: 
            Method: GET
            Path: /api/v2/test/33e034b2-e45d-4e5d-8e11-0436c17dc977
            Headers:
              Accept: application/json
              X-Correlation-Id: bd65946a-81f7-43c2-871e-62067d98c5b2
 RUNS  contract-tests/hl-sor.spec.ts
2024-05-21T17:00:50.369584Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 2, keys = [2, 1]
2024-05-21T17:00:50.369599Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.369617Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.370288Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.370310Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.370317Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.370520Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.370532Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.370536Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.370795Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf" path= category="path" index=0
2024-05-21T17:00:50.370810Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.370839Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.370844Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.370847Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: None, body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.370929Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="application/json" path=$.Accept category="header" index=0
2024-05-21T17:00:50.370941Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.370945Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("application/json")
2024-05-21T17:00:50.370949Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.370952Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = []
2024-05-21T17:00:50.370999Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.371007Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'Accept' = ["application/json"]
2024-05-21T17:00:50.371022Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.371026Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.371028Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"Accept": ["application/json"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.371060Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="60e64fdb-0d9e-42d9-8105-c50b9ebc96a0" path=$['X-Tenant-Id'] category="header" index=0
2024-05-21T17:00:50.371067Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: trailing characters at line 1 column 6
2024-05-21T17:00:50.371146Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("60e64fdb-0d9e-42d9-8105-c50b9ebc96a0")
2024-05-21T17:00:50.371154Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.371157Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = ["Accept"]
2024-05-21T17:00:50.371162Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.371165Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'X-Tenant-Id' = ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]
2024-05-21T17:00:50.371181Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.371184Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.371187Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.371255Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="bd65946a-81f7-43c2-871e-62067d98c5b2" path=$['X-Correlation-Id'] category="header" index=0
2024-05-21T17:00:50.371267Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.371271Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("bd65946a-81f7-43c2-871e-62067d98c5b2")
2024-05-21T17:00:50.371275Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.371277Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = ["Accept", "X-Tenant-Id"]
2024-05-21T17:00:50.371282Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.371285Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'X-Correlation-Id' = ["bd65946a-81f7-43c2-871e-62067d98c5b2"]
2024-05-21T17:00:50.371326Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.371331Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.371334Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.371364Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="200" path= category="status" index=0
2024-05-21T17:00:50.371392Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.371396Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.371399Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: None, body: Missing, matching_rules: MatchingRules { rules: {STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.371452Z TRACE ThreadId(01) pact_ffi::mock_server::handles: from_integration_json_v2 called value="application/json; charset=utf-8" path=$['Content-Type'] category="header" index=0
2024-05-21T17:00:50.371460Z ERROR ThreadId(01) pact_ffi::mock_server::handles: Failed to parse the value: expected value at line 1 column 1
2024-05-21T17:00:50.371463Z DEBUG ThreadId(01) pact_ffi::mock_server::handles: parsed header value: Left("application/json; charset=utf-8")
2024-05-21T17:00:50.371467Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Single header value received
2024-05-21T17:00:50.371488Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Existing header keys = []
2024-05-21T17:00:50.371492Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Index is 0
2024-05-21T17:00:50.371495Z TRACE ThreadId(01) pact_ffi::mock_server::handles: No existing key found, setting header 'Content-Type' = ["application/json; charset=utf-8"]
2024-05-21T17:00:50.371523Z TRACE ThreadId(01) pact_ffi::mock_server::handles: >>> pactffi_with_body(InteractionHandle { interaction_ref: 131073 }, Response, 0x7ff4ad844c10, 0x7ff4ad83fb40)
2024-05-21T17:00:50.371530Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - index = 2, interaction = 1
2024-05-21T17:00:50.371532Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - keys = [2, 1]
2024-05-21T17:00:50.371535Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_interaction - inner = PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Missing, matching_rules: MatchingRules { rules: {HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 }
2024-05-21T17:00:50.371620Z TRACE ThreadId(01) pact_ffi::mock_server::handles: Setting up the response body
2024-05-21T17:00:50.371686Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: process_json
2024-05-21T17:00:50.371697Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: >>> process_object(obj={"status": String("StatusAccepted")}, matching_rules=MatchingRuleCategory { name: BODY, rules: {} }, generators=Generators { categories: {} }, path=$, type_matcher=false)
2024-05-21T17:00:50.371704Z DEBUG ThreadId(01) pact_ffi::mock_server::bodies: Path = $
2024-05-21T17:00:50.371708Z DEBUG ThreadId(01) pact_ffi::mock_server::bodies: Configuring a normal object
2024-05-21T17:00:50.371716Z TRACE ThreadId(01) pact_ffi::mock_server::bodies: -> result = Object {"status": String("StatusAccepted")}
2024-05-21T17:00:50.371769Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact - ref = 2, keys = [2, 1]
2024-05-21T17:00:50.371777Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact before - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Present(b"{\"status\":\"StatusAccepted\"}", Some(ContentType { main_type: "application", sub_type: "json", attributes: {}, suffix: None }), None), matching_rules: MatchingRules { rules: {HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }, BODY: MatchingRuleCategory { name: BODY, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.371923Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: TRANSPORT, provider_type: CORE, plugin: None, key: "http", values: {} }, CatalogueEntry { entry_type: TRANSPORT, provider_type: CORE, plugin: None, key: "https", values: {} }])
2024-05-21T17:00:50.371949Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "xml", values: {"content-types": "application/.*xml,text/xml"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "json", values: {"content-types": "application/.*json,application/json-rpc,application/jsonrequest"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "text", values: {"content-types": "text/plain"} }, CatalogueEntry { entry_type: CONTENT_MATCHER, provider_type: CORE, plugin: None, key: "multipart-form-data", values: {"content-types": "multipart/form-data,multipart/mixed"} }, CatalogueEntry { entry_type: CONTENT_GENERATOR, provider_type: CORE, plugin: None, key: "json", values: {"content-types": "application/.*json,application/json-rpc,application/jsonrequest"} }, CatalogueEntry { entry_type: CONTENT_GENERATOR, provider_type: CORE, plugin: None, key: "binary", values: {"content-types": "application/octet-stream"} }])
2024-05-21T17:00:50.372025Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_plugin_driver::catalogue_manager: register_core_entries([CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-regex", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-number-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-integer-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-decimal-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-date", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-time", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-datetime", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-min-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-max-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v2-minmax-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-includes", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-null", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-min-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-max-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-minmax-equals-ignore-order", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v3-content-type", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-array-contains", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v1-equality", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-not-empty", values: {} }, CatalogueEntry { entry_type: MATCHER, provider_type: CORE, plugin: None, key: "v4-semver", values: {} }])
2024-05-21T17:00:50.372264Z DEBUG ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_mock_server::mock_server: Started mock server on 127.0.0.1:49401
2024-05-21T17:00:50.372285Z TRACE ThreadId(01) pactffi_create_mock_server_for_pact{pact=PactHandle { pact_ref: 2 } addr_str=0x7ff7b440d2c9 tls=false}: pact_ffi::mock_server::handles: with_pact after - ref = 2, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [SynchronousHttp { id: None, key: None, description: "A request for test details by ID", provider_states: [ProviderState { name: "Test details for ID exist", params: {} }], request: HttpRequest { method: "GET", path: "/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf", query: None, headers: Some({"X-Correlation-Id": ["bd65946a-81f7-43c2-871e-62067d98c5b2"], "Accept": ["application/json"], "X-Tenant-Id": ["60e64fdb-0d9e-42d9-8105-c50b9ebc96a0"]}), body: Missing, matching_rules: MatchingRules { rules: {PATH: MatchingRuleCategory { name: PATH, rules: {} }, HEADER: MatchingRuleCategory { name: HEADER, rules: {} }} }, generators: Generators { categories: {} } }, response: HttpResponse { status: 200, headers: Some({"Content-Type": ["application/json; charset=utf-8"]}), body: Present(b"{\"status\":\"StatusAccepted\"}", Some(ContentType { main_type: "application", sub_type: "json", attributes: {}, suffix: None }), None), matching_rules: MatchingRules { rules: {HEADER: MatchingRuleCategory { name: HEADER, rules: {} }, STATUS: MatchingRuleCategory { name: STATUS, rules: {} }, BODY: MatchingRuleCategory { name: BODY, rules: {} }} }, generators: Generators { categories: {} } }, comments: {}, pending: false, plugin_config: {}, interaction_markup: InteractionMarkup { markup: "", markup_type: "" }, transport: None }], metadata: {"
  console.log
    My fullUrl is:  http://127.0.0.1:49401/api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf

      at http (src/utils/hlClient/index.ts:17:11)


 RUNS  contract-tests/hl-sor.spec.ts
2024-05-21T17:00:50.376132Z DEBUG ThreadId(01) pact_matching::metrics: Could not get the tokio runtime, will not send metrics - there is no reactor running, must be called from the context of a Tokio 1.x runtime
2024-05-21T17:00:50.376148Z DEBUG ThreadId(01) pact_mock_server::server_manager: Shutting down mock server with ID fcb9f941-33dc-4a9c-8521-996a0994d0e6 - MockServerMetrics { requests: 0, requests_by_path: {} }
2024-05-21T17:00:50.376159Z DEBUG ThreadId(01) pact_mock_server::mock_server: Mock server fcb9f941-33dc-4a9c-8521-996a0994d0e6 shutdown - MockServerMetrics { requests: 0, requests_by_path: {} }
2024-05-21T17:00:50.376330Z DEBUG tokio-runtime-worker hyper::server::shutdown: signal received, starting graceful shutdown
[10:00:50.376] TRACE (1910): pact-core@14.3.2: Ffi has already been initialised, no need to repeat it
2024-05-21T17:00:50.377324Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 3, keys = [2, 3, 1]
2024-05-21T17:00:50.377336Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 3, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V3 } }
2024-05-21T17:00:50.377357Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 3, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.377374Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact - ref = 3, keys = [2, 3, 1]
2024-05-21T17:00:50.377400Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact before - ref = 3, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
2024-05-21T17:00:50.377409Z TRACE ThreadId(01) pact_ffi::mock_server::handles: with_pact after - ref = 3, inner = RefCell { value: PactHandleInner { pact: V4Pact { consumer: Consumer { name: "Console" }, provider: Provider { name: "SOR" }, interactions: [], metadata: {"pact-js": Object {"version": String("12.3.0")}, "pactRust": Object {"ffi": String("0.4.16")}}, plugin_data: [] }, mock_server_started: false, specification_version: V2 } }
[10:00:50.377] ERROR (1910): pact@12.3.0: Test failed for the following reasons:

  Mock server failed with the following mismatches:

        0) The following request was expected but not received: 
            Method: GET
            Path: /api/v2/test/febf64ec-4e40-453e-932a-1e32e3de3aaf
            Headers:
              Accept: application/json
 FAIL  contract-tests/hl-sor.spec.ts946a-81f7-43c2-871e-62067d98c5b2
  GET Test Details by ID
     Returns an HTTP 404 when ID is non-existent (45 ms)
     Returns an HTTP 200 when ID is existent (8 ms)

   GET Test Details by ID  Returns an HTTP 404 when ID is non-existent

    FetchError: invalid json response body at  reason: Unexpected end of JSON input

      at node_modules/node-fetch/lib/index.js:273:32

   GET Test Details by ID  Returns an HTTP 200 when ID is existent

    FetchError: invalid json response body at  reason: Unexpected end of JSON input

      at node_modules/node-fetch/lib/index.js:273:32

Test Suites: 1 failed, 1 total
Tests:       2 failed, 2 total
Snapshots:   0 total
Time:        1.585 s, estimated 2 s
```